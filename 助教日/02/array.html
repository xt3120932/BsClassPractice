<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>
        var list = [
            { Item: '啤酒', Type: '喝的' },
            { Item: '汽水', Type: '喝的' },
            { Item: '火鍋', Type: '吃的' },
            { Item: '燒烤', Type: '吃的' },
            { Item: '冰淇淋', Type: '吃的' }
        ]

        //找第一個吃的
        let r1 = list.find(x => x.Type == '吃的');
        console.log(r1.Item);

        //找所有吃的
        let r2 = list.filter(x => x.Type == "吃的");
        console.log(r2);

        //找冰淇淋索引
        let ice_1 = list.find(x => x.Item == '冰淇淋');
        let r3 = list.indexOf(ice_1);
        console.log(`冰淇淋在第 ${r3 + 1} 個位置`);


        let ice_2 = list.findIndex(x => x.Item == '冰淇淋');
        console.log(`冰淇淋在第 ${ice_2 + 1} 個位置`);

        let r4 = list.map(x => x.Item);
        console.log(r4);

        let r5 = list.map(x => {
            return {
                id: list.length - list.indexOf(x),
                Name: x.Item
            }
        });
        console.log(r5);

        //排序ex1
        var nums_1 = [9, 6, 4, 2, 1];
        let r6 = nums_1.sort((a, b) => b - a);
        console.log(r6);

        //排序ex2
        //sort會影響原集和
        var nums_2 = [10000, 10, 100, 1, 101];
        // let r7 = nums_2.sort((a, b) => a - b);
        nums_2.sort((a, b) => a - b);
        console.log(nums_2);

        //排序ex3
        let r8 = r5.sort((a, b) => a.id - b.id);
        console.log(r8);

        //排序
        // ['豬','龍','鼠','狗','羊','雞','馬'];
        var animal = ['豬', '龍', '鼠', '狗', '羊', '雞', '馬'];
        animal.sort((a, b) => {
            let compare = ['鼠', '牛', '虎', '兔', '龍', '蛇', '馬', '羊', '猴', '雞', '狗', '豬'];
            return compare.indexOf(a) - compare.indexOf(b);
        });
        console.log(animal);

        //自定義groupBy
        Array.prototype.groupBy = function (prop) {
            return this.reduce(function (groups, item) {
                const val = item[prop];
                groups[val] = groups[val] || [];
                groups[val].push(item);
                return groups;
            }, {});
        }

        let r9 = list.groupBy('Type');
        console.log(r9);


    </script>
</body>

</html>
